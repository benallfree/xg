// Import favicon directly as a data URL
// import faviconDataUrl from 'data-url:../icons/favicon-32x32.png'

const faviconDataUrl =
  'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAB9JJREFUeNrtVmlQVFca7UnFWWoUEAYda2ZSTpw4KWumIoUKihIUccRREQOupJtNEMSNEVAgBBFQMIJpFyQuBDcWUTZtbAS6gZaG7mbrvfu9Xl5vdNMNMaJVE0s988Yqq5KUifIrfzxVt269H993zr33O6ce4y3e4hdHf7IiUZNBFkjzdKWDJYaSvi91RcJSY35XsSGHl08c5GXr9t7dq9pxkzUQ%2BHN9rm%2BV%2FKH%2FENHSl0xwRXvJqt4D%2Bq96DupKurLJvO4cXcb9PF1yVwER1VNIrR0u1C%2FrzSN9FSVmT0btx9wQV6L5qTaNRPc5PTovGsH7%2FzpPgV9uRPsZI%2B6x9eg9pn%2FasV%2Bx6VXk5b7lU%2FrzDO01eXLcaDThWiOFymYK55tNKKP30w0msOsMOFWlB7uSAPucGi1Z%2FU%2BrdgqDXjSoXHQnbXy3HVStDRy9E7u5I9jTPoJUgR3ZYgeK5A5wRBb05ZNP%2BLuUIT8WIDtqLG7KkeHikBWBOSosylRhyREtAku1CC4nEXKZxLpGA1itWlQY6V4cMy5EClJ%2B0KRmKb%2Fo4X%2FGnhtv25HLHYN3rBmeURZ4fGqDV%2BII4posuMEzoTefmOjaqVn0sk5%2B1PgJ%2F4j6%2BSWRCcH7FJjp1wnvRffg5d%2BB6QECwnOFBN5b1GDxLShVWFDHs%2BJylKic8WMEBeW%2B27C899zDjHEY2%2Bw41OSkBZjh9okZU9dTcN9qRmLTCC416jBwTO%2FsiiHmKT4z%2BElOGB6fvUcgoZjE%2BwGDeG%2BxGH9eNog%2FBg3Be8UQZqwbQizXjKJhE2rFI6iJEfFrI%2BW%2FZrwK0bMrftu4Slw5kTEGU6cd6c0uuEdZ8fswA6au0mL6JgopLQ6UVaoxVGo0S09SjjO1GmRdozA%2FUI4PF%2FZjQZAS4ZtNWMO0wD%2FWhpgGGwqHTLgic6D5gJLPDu11e8n3kyJ4a4fPT6S5YLo%2FirTb43DfbsG01QSmrSQwPcJIixjBqfNysMtVyOPQRMEa%2BM%2BXIGChCJcKSFweHEW51IkypROlUgpfaxyozlRQnEjCm%2FEmAAO%2FkkYQFx%2Bl0yKETuynb2I6%2FQRuIQTcgtTwCiOxi2NDFt8K39U6BPrIEOIzgIoMArcUDmTxKHzWZUNmtw1lcjsuFyomWrfJ5zMmAdpakimqzca6RwfHYaBF7Kl3wWMTLWKFEm70G88IVeKDtTr4LVTh375KnIsncW%2FIjuM99IkvarpL2Nqb7Aqy%2FtJpeUMHSx3wsu%2BkRehjbbWPsh7A0DcG5jUn3DfoaAH98AyQYE6ADEv91DgSoUNnjx2l%2FSY015CNyMU7koOaeGW8UqpI1HYOxCm7hmLlLWKmInTSIiQJmGJNdggfZz9An9hJe3sE7qs18AxRY%2FYKAhH0XHCuW3DbOorabiMas%2BXr2aGc37StFT8h2CSMAitMQissIhvEUeLPJy1AEEsuH08ff2LJdNI2ssGn0A63bXZ4hJkwa5UOW0JMqEpUoXrQipvECDpvU49u71csYy%2FgZ%2FLXD5wVseTnyV3Ed1Z6HqQpQ%2BxJkd%2Fdpl%2FkSB976Mx0of6%2BBavKHLQtR%2BDGHIV7hAVzmAQ%2BCqFd4atAxQ4lrktoERoLuqv137bHKsPvhus%2F4m3QztdEKu2jwlEMpw5UvzF5QyQxz5w6OvqAHsL6FjpGa53w2GaDewydDdFOOmpNuNpGYnmWEb4fqxG%2FQI4yphJXeqy4pbai5zoJWakR2mIjKHpZJQ7Is6X8NyK%2FuVE5S7%2FHRk0cGEfTNS32tbrgybTDM5q2Y9w45mbYUVFOQJilQUObAYt367AwQA4mLYK9WY6r7Sa0UC606Z0QGJyQGFzQ2h9AkadQvX7yV0rciWTb4OO0b3D3rAbpXaPwpBNtOn3tXju%2BwaxkJ3JPadCdobWe8pfs5O6UT1Ry9fgni8T8JTJE%2BqtwMlyOyl1q1OxR4t4eFSSpCnQk9aNtY6%2FrtbZTx1N3Hmc8QFsxHbH37fCKoWN4i%2FXFyb0SxpD0JYHOHPWjC6FiHwaNYz6C0PqEgSfHmw2YwzLgfTonPqRje%2B46AvOizAhmWlAXqQKH1V904V93PX9WgHS77jR9cnTmE8ijh24mU4Wp4SSmfeqAR7wLYScptGbKn99gisO%2BX5c2t5l5Ja7vWXaDAbNZeswIVsDbTwQv%2F154h6mwJJrCzc0E%2BuIVBaBT9pXk4ojhfd8m2yHI1qBQYMJfWFK4h8oxLZKCW5Qd%2FgUm3MqUoSVxIPtV9Sl%2Fu5FckdL7bHcVgT9tIuEdoqTDqh8eywbgtZFAQBKFhu0kJImKCl4Q790fFPM39GwdjzM9k6QpcXaAwpqvtFhSQGJxgQF%2Bx8xYWkzhYqEcTcw%2BbgL998P4CaT%2Boyr2wiHxf1kVGvw9RYc5iVr8NUGL2UkkPkg3IaxIh4YkNcQJ8qbayJ7fvSi6Ey4IMccQ37ni9ejbJ0NPDgneYR1a80lwC7XgFGjQdJgmjxKOJsyrfI%2FxGhzwqcr4%2BsQQ2EITTgjN%2BKLXgiJ6P0Z%2FFwuNON1hBHf3MLqj%2B4Qng6%2FPZGT4nkvN8jlztCjwamnJyrryU6Gc%2BrJ1LYJLke091dsEHXeYoprWGNEVdnDDSsYbIJeR%2B06uf80XtxIHj99KkeU3pmg%2Br9ohK7waJz1cmzScVh0rSa3bej%2BVG9Wdy15TH814i7f4pfE%2FwOJq0Kt3nBIAAAAASUVORK5CYII%3D'

// Cache for blob URLs to avoid recreating them
const blobCache = new Map<string, string>()

export async function createImageBlobUrl(imageUrl: string): Promise<string> {
  // Check cache first
  const cached = blobCache.get(imageUrl)
  if (cached) return cached

  try {
    const response = await fetch(imageUrl)
    const blob = await response.blob()
    const blobUrl = URL.createObjectURL(blob)
    blobCache.set(imageUrl, blobUrl)
    return blobUrl
  } catch (error) {
    console.error('Error creating blob URL for image:', error)
    return ''
  }
}

export function getFaviconUrl(): string {
  console.log(`***data url`, faviconDataUrl)
  return faviconDataUrl
}
